System.register("chunks:///_virtual/GameFlow.ts",["cc"],(function(e){var t,a;return{setters:[function(e){t=e.cclegacy,a=e.sys}],execute:function(){t._RF.push({},"93c94d5eRJJRpZ/Ny3scNtT","GameFlow",void 0);var r="fingerBattle_level",l="fingerBattle_bgmMuted",o="fingerBattle_soundMuted";e("GameFlow",{currentLevel:1,skipStartScreen:!1,isPaused:!1,isGameOver:!1,bgmMuted:!1,soundMuted:!1,loadFromLocal:function(){if(a&&a.localStorage)try{var e=a.localStorage.getItem(r);if(null!=e){var t=parseInt(e,10);t>=1&&t<=3&&(this.currentLevel=t)}var s=a.localStorage.getItem(l);"1"===s||"true"===s?this.bgmMuted=!0:"0"!==s&&"false"!==s||(this.bgmMuted=!1);var c=a.localStorage.getItem(o);"1"===c||"true"===c?this.soundMuted=!0:"0"!==c&&"false"!==c||(this.soundMuted=!1)}catch(e){}},saveToLocal:function(){if(a&&a.localStorage)try{a.localStorage.setItem(r,String(this.currentLevel)),a.localStorage.setItem(l,this.bgmMuted?"1":"0"),a.localStorage.setItem(o,this.soundMuted?"1":"0")}catch(e){}}});t._RF.pop()}}}));

System.register("chunks:///_virtual/gameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFlow.ts"],(function(e){var t,n,i,l,o,a,r,s,u,c,d,g,h,v,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,r=e.Node,s=e.AudioClip,u=e.Button,c=e.AudioSource,d=e.tween,g=e.Vec3,h=e.director,v=e.Component},function(e){m=e.GameFlow}],execute:function(){var p,f,C,y,B,b,S,w,_,k,F;o._RF.push({},"5d622wjFfFDFL0pB5mP/eSc","gameManager",void 0);var P=a.ccclass,A=a.property;e("gameManager",(p=P("gameManager"),f=A(r),C=A(r),y=A(s),B=A(s),p((w=t((S=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"settingBtn",w,l(t)),i(t,"settingPanel",_,l(t)),i(t,"settingClickAudio",k,l(t)),i(t,"bgm",F,l(t)),t}n(t,e);var o=t.prototype;return o.start=function(){var e,t,n;m.loadFromLocal();for(var i="level"+m.currentLevel,l=!1,o=0;o<this.node.children.length;o++){var a=this.node.children[o];/^level\d+$/.test(a.name)&&(a.active=a.name===i,a.name===i&&(l=!0))}if(!l){var r=this.node.children.find((function(e){return/^level\d+$/.test(e.name)}));r&&(r.active=!0)}var s=null!=(e=this.settingBtn)?e:this._getSettingBtn();if(s){var d=s.getComponent(u);d&&d.node.on(u.EventType.CLICK,this._onSettingBtnClick,this)}var g=null!=(t=this.settingPanel)?t:null==(n=this.node.parent)?void 0:n.getChildByName("gameSetting");if(g&&(g.active=!1),this.bgm&&!m.bgmMuted){var h,v=null!=(h=this.node.getComponent(c))?h:this.node.addComponent(c);v.clip=this.bgm,v.loop=!0,v.volume=1,v.play()}},o.onDestroy=function(){if(this.node&&this.node.isValid)try{var e,t=null!=(e=this.settingBtn)?e:this._getSettingBtn();if(t&&t.isValid){var n=t.getComponent(u);n&&n.node&&n.node.isValid&&n.node.off(u.EventType.CLICK,this._onSettingBtnClick,this)}}catch(e){}},o._getSettingBtn=function(){var e,t;if(!this.node||!this.node.isValid||!this.node.children)return null;for(var n=0;n<this.node.children.length;n++){var i=this.node.children[n];if(/^level\d+$/.test(i.name)&&i.active){var l=i.getChildByName("settingBtn");if(l)return l}}return null!=(e=null==(t=this.node.getChildByName("level1"))?void 0:t.getChildByName("settingBtn"))?e:null},o._onSettingBtnClick=function(){var e,t;if(!m.isGameOver){var n=null!=(e=this.settingPanel)?e:null==(t=this.node.parent)?void 0:t.getChildByName("gameSetting");if(!n||!n.active){var i;if(this.settingClickAudio&&!m.soundMuted)(null!=(i=this.node.getComponent(c))?i:this.node.addComponent(c)).playOneShot(this.settingClickAudio,1);n&&(n.active=!0,n.setScale(1,1,1),d(n).to(.15,{scale:new g(1.15,1.15,1)},{easing:"quadOut"}).to(.2,{scale:new g(1,1,1)},{easing:"backOut"}).start(),h.getScheduler().setTimeScale(0),m.isPaused=!0)}}},t}(v)).prototype,"settingBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(S.prototype,"settingPanel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(S.prototype,"settingClickAudio",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(S.prototype,"bgm",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=S))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/gameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFlow.ts"],(function(e){var t,n,i,r,a,o,s,l,c,u,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,l=e.Button,c=e.director,u=e.Component},function(e){v=e.GameFlow}],execute:function(){var h,d,p,f,m,g,y,C,B,L,b,T;a._RF.push({},"a651c2GQhhD6LpKvt472dXX","gameOver",void 0);var x=o.ccclass,N=o.property,_=e("RESTART_LEVEL","RESTART_LEVEL");e("gameOver",(h=x("gameOver"),d=N(s),p=N(s),f=N(s),m=N(s),h((C=t((y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"restartBtn",C,r(t)),i(t,"nextLevelBtn",B,r(t)),i(t,"successTips",L,r(t)),i(t,"failTips",b,r(t)),i(t,"nextSceneName",T,r(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.node.active=!1;var e=this.restartBtn||this.node.getChildByName("restartBtn"),t=this.nextLevelBtn||this.node.getChildByName("nextLevelBtn");if(e){var n=e.getComponent(l);n&&n.node.on(l.EventType.CLICK,this._onRestartClick,this)}if(t){var i=t.getComponent(l);i&&i.node.on(l.EventType.CLICK,this._onNextLevelClick,this)}},a.onDestroy=function(){if(this.node&&this.node.isValid)try{var e=this.restartBtn||this.node.getChildByName("restartBtn"),t=this.nextLevelBtn||this.node.getChildByName("nextLevelBtn");if(e&&e.isValid){var n=e.getComponent(l);n&&n.node&&n.node.isValid&&n.node.off(l.EventType.CLICK,this._onRestartClick,this)}if(t&&t.isValid){var i=t.getComponent(l);i&&i.node&&i.node.isValid&&i.node.off(l.EventType.CLICK,this._onNextLevelClick,this)}}catch(e){}},a.show=function(e){this.node.active=!0;var t=this.restartBtn||this.node.getChildByName("restartBtn"),n=this.nextLevelBtn||this.node.getChildByName("nextLevelBtn");"restart"===e||v.currentLevel>=3?(t&&(t.active=!0),n&&(n.active=!1)):(t&&(t.active=!1),n&&(n.active=!0));var i=this.successTips||this.node.getChildByName("succes_tips"),r=this.failTips||this.node.getChildByName("fail_tips");i&&(i.active="next"===e),r&&(r.active="restart"===e)},a._onRestartClick=function(){var e;this.node.active=!1,v.isGameOver=!1,null==(e=c.getScene())||e.emit(_)},a._onNextLevelClick=function(){this.node.active=!1,v.isGameOver=!1,v.currentLevel++,v.saveToLocal(),v.skipStartScreen=!0;var e=c.getScene();e&&c.loadScene(e.name)},t}(u)).prototype,"restartBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(y.prototype,"nextLevelBtn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(y.prototype,"successTips",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(y.prototype,"failTips",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(y.prototype,"nextSceneName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"main"}}),g=y))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/gameSetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFlow.ts"],(function(t){var e,n,o,i,s,d,u,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Button,s=t.Label,d=t.AudioSource,u=t.director,a=t.Component},function(t){c=t.GameFlow}],execute:function(){var l;n._RF.push({},"e4f527Yd1tB6b9rqroTXpnw","gameSetting",void 0);var r=o.ccclass;t("gameSetting",r("gameSetting")(l=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){this.node.active=!1;var t=this.node.getChildByName("closeBtn");if(t){var e=t.getComponent(i);e&&e.node.on(i.EventType.CLICK,this._onClose,this)}var n=this.node.getChildByName("musicBtn");if(n){var o=n.getComponent(i);o&&o.node.on(i.EventType.CLICK,this._onMusicBtnClick,this)}var s=this.node.getChildByName("soundBtn");if(s){var d=s.getComponent(i);d&&d.node.on(i.EventType.CLICK,this._onSoundBtnClick,this)}},o.onDestroy=function(){if(this.node&&this.node.isValid)try{var t=this.node.getChildByName("closeBtn");if(t&&t.isValid){var e=t.getComponent(i);e&&e.node&&e.node.isValid&&e.node.off(i.EventType.CLICK,this._onClose,this)}var n=this.node.getChildByName("musicBtn");if(n&&n.isValid){var o=n.getComponent(i);o&&o.node&&o.node.isValid&&o.node.off(i.EventType.CLICK,this._onMusicBtnClick,this)}var s=this.node.getChildByName("soundBtn");if(s&&s.isValid){var d=s.getComponent(i);d&&d.node&&d.node.isValid&&d.node.off(i.EventType.CLICK,this._onSoundBtnClick,this)}}catch(t){}},o.onEnable=function(){this._updateMusicText(),this._updateSoundText()},o._updateMusicText=function(){var t=this.node.getChildByName("music_text"),e=null==t?void 0:t.getComponent(s);e&&(e.string=c.bgmMuted?"背景音乐：关":"背景音乐：开")},o._updateSoundText=function(){var t=this.node.getChildByName("sound_text"),e=null==t?void 0:t.getComponent(s);e&&(e.string=c.soundMuted?"游戏音效：关":"游戏音效：开")},o._onSoundBtnClick=function(){c.soundMuted=!c.soundMuted,this._updateSoundText()},o._onMusicBtnClick=function(){var t,e=null==(t=this.node.parent)?void 0:t.getChildByName("gameManager"),n=null==e?void 0:e.getComponent(d);c.bgmMuted=!c.bgmMuted,n&&(c.bgmMuted?n.stop():n.play()),this._updateMusicText()},o._onClose=function(){this.node.active=!1,u.getScheduler().setTimeScale(1),c.isPaused=!1},n}(a))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/gameStartUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFlow.ts"],(function(t){var e,n,i,o,a,r,l,s,u,d,c,h,p,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Label,s=t.Node,u=t.AudioClip,d=t.AudioSource,c=t.Button,h=t.Vec3,p=t.tween,m=t.Component},function(t){g=t.GameFlow}],execute:function(){var C,f,v,y,B,b,S,k,_,w,A,z,x,I,L,N,T;a._RF.push({},"ea20d+N1qNP+5D5cGbx1xRV","gameStartUI",void 0);var V=r.ccclass,D=r.property;t("gameStartUI",(C=V("gameStartUI"),f=D(l),v=D(s),y=D(u),B=D(u),b=D(s),S=D(s),k=D(u),C((A=e((w=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"levelText",A,o(e)),i(e,"startBtn",z,o(e)),i(e,"startScreenSound",x,o(e)),i(e,"startAudio",I,o(e)),i(e,"gameContent",L,o(e)),i(e,"rankBtn",N,o(e)),i(e,"rankBtnAudio",T,o(e)),e._gameContent=null,e}n(e,t);var a=e.prototype;return a.start=function(){var t,e;g.loadFromLocal(),this._gameContent=this.gameContent||(null==(t=this.node.parent)?void 0:t.getChildByName("gameManager"))||null,this._gameContent&&(this._gameContent.active=!1);var n=this.levelText||(null==(e=this.node.getChildByName("levelText"))?void 0:e.getComponent(l));if(n&&(n.string="第"+g.currentLevel+"关"),g.skipStartScreen)return g.skipStartScreen=!1,this.node.active=!1,void(this._gameContent&&(this._gameContent.active=!0));this.startScreenSound&&!g.soundMuted&&(this.node.getComponent(d)||this.node.addComponent(d)).playOneShot(this.startScreenSound,1);var i=this.startBtn||this.node.getChildByName("startBtn");if(i){var o=i.getComponent(c);o&&o.node.on(c.EventType.CLICK,this._onStartClick,this);var a=new h(i.position);i.setPosition(a.x,a.y-800,a.z),p(i).delay(2).to(.6,{position:a},{easing:"backOut"}).start()}var r=this.rankBtn||this.node.getChildByName("rankBtn");if(r){var s=r.getComponent(c);s&&s.node.on(c.EventType.CLICK,this._onRankBtnClick,this)}},a.onDestroy=function(){if(this.node&&this.node.isValid)try{var t=this.startBtn||this.node.getChildByName("startBtn");if(t&&t.isValid){var e=t.getComponent(c);e&&e.node&&e.node.isValid&&e.node.off(c.EventType.CLICK,this._onStartClick,this)}var n=this.rankBtn||this.node.getChildByName("rankBtn");if(n&&n.isValid){var i=n.getComponent(c);i&&i.node&&i.node.isValid&&i.node.off(c.EventType.CLICK,this._onRankBtnClick,this)}}catch(t){}},a._onRankBtnClick=function(){this.rankBtnAudio&&!g.soundMuted&&(this.node.getComponent(d)||this.node.addComponent(d)).playOneShot(this.rankBtnAudio,1)},a._onStartClick=function(){if(this.startAudio&&!g.soundMuted){var t,e,n;(this.node.getComponent(d)||this.node.addComponent(d)).playOneShot(this.startAudio,1);var i=null!=(t=null==(e=(n=this.startAudio).getDuration)?void 0:e.call(n))?t:0;this.scheduleOnce(this._enterGame,Math.max(0,i))}else this._enterGame()},a._enterGame=function(){this.node.active=!1,this._gameContent&&(this._gameContent.active=!0)},e}(m)).prototype,"levelText",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(w.prototype,"startBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(w.prototype,"startScreenSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(w.prototype,"startAudio",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(w.prototype,"gameContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(w.prototype,"rankBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(w.prototype,"rankBtnAudio",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=w))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/level1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFlow.ts","./gameOver.ts"],(function(e){var t,s,i,o,r,n,a,h,l,u,b,_,p,d,m,c,f,g,y,v,w,P,x,B,F,T,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,n=e._decorator,a=e.Node,h=e.SpriteFrame,l=e.Vec2,u=e.AudioClip,b=e.CCInteger,_=e.Vec3,p=e.UITransform,d=e.Sprite,m=e.Graphics,c=e.Color,f=e.ProgressBar,g=e.Label,y=e.input,v=e.Input,w=e.KeyCode,P=e.view,x=e.AudioSource,B=e.Component},function(e){F=e.GameFlow},function(e){T=e.RESTART_LEVEL,D=e.gameOver}],execute:function(){var N,S,M,C,R,A,z,O,H,I,L,E,V,Y,K,G,U,W,X,k,q,j,J,Q,Z,$,ee,te,se,ie,oe,re,ne,ae,he,le,ue,be,_e,pe,de,me,ce,fe,ge,ye,ve,we,Pe,xe,Be,Fe,Te,De,Ne,Se,Me,Ce,Re,Ae,ze,Oe,He,Ie,Le,Ee,Ve,Ye,Ke,Ge,Ue,We,Xe,ke,qe,je,Je,Qe,Ze;r._RF.push({},"4d73eiPOTdFs5lW/q8VSoiW","level1",void 0);var $e=n.ccclass,et=n.property;e("level1",(N=$e("level1"),S=et(a),M=et(a),C=et(h),R=et(h),A=et(h),z=et(h),O=et(a),H=et(a),I=et(a),L=et(l),E=et(l),V=et(l),Y=et(h),K=et(u),G=et(u),U=et(u),W=et(u),X=et(a),k=et([a]),q=et({type:[b]}),j=et(h),J=et(a),Q=et(a),Z=et(a),$=et([h]),ee=et([h]),te=et(a),N(((Ze=function(e){function t(){for(var t,s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return t=e.call.apply(e,[this].concat(r))||this,i(t,"player",oe,o(t)),i(t,"boss",re,o(t)),i(t,"enemy3_n1",ne,o(t)),i(t,"enemy3_n2",ae,o(t)),i(t,"bossFrameInterval",he,o(t)),i(t,"me1",le,o(t)),i(t,"me2",ue,o(t)),i(t,"frameInterval",be,o(t)),i(t,"pos1Node",_e,o(t)),i(t,"pos2Node",pe,o(t)),i(t,"pos3Node",de,o(t)),i(t,"pos1",me,o(t)),i(t,"pos2",ce,o(t)),i(t,"pos3",fe,o(t)),i(t,"useThreePoints",ge,o(t)),i(t,"moveSpeed",ye,o(t)),i(t,"bulletFrame",ve,o(t)),i(t,"fireInterval",we,o(t)),i(t,"fireAudio",Pe,o(t)),i(t,"hitBossAudio",xe,o(t)),i(t,"deathAudio",Be,o(t)),i(t,"bossDeathAudio",Fe,o(t)),i(t,"bulletSpeed",Te,o(t)),i(t,"bulletPos",De,o(t)),i(t,"headOffset",Ne,o(t)),i(t,"hitRadius",Se,o(t)),i(t,"bossHitboxes",Me,o(t)),i(t,"hitboxTags",Ce,o(t)),i(t,"bossHitFlashDuration",Re,o(t)),i(t,"bossRotateInterval",Ae,o(t)),i(t,"bossRotateDuration",ze,o(t)),i(t,"randomRectMinX",Oe,o(t)),i(t,"randomRectMinY",He,o(t)),i(t,"randomRectMaxX",Ie,o(t)),i(t,"randomRectMaxY",Le,o(t)),i(t,"bossMoveSpeed",Ee,o(t)),i(t,"bossBulletFrame",Ve,o(t)),i(t,"bossBulletSpeed",Ye,o(t)),i(t,"bossBulletPos",Ke,o(t)),i(t,"playerHitRadius",Ge,o(t)),i(t,"hpProgressBar",Ue,o(t)),i(t,"bossMaxHP",We,o(t)),i(t,"bossDamagePerHit",Xe,o(t)),i(t,"hpText",ke,o(t)),i(t,"playerDeathFrames",qe,o(t)),i(t,"deathFrameInterval",je,o(t)),i(t,"bossDeathFrames",Je,o(t)),i(t,"gameOverNode",Qe,o(t)),t._sprite=null,t._playerNode=null,t._bossNode=null,t._bossSprite=null,t._bossOriginalColor=null,t._bossInitialPos=new _,t._bossInitialAngle=0,t._bossHitFlashTimer=0,t._bossRotateTimer=0,t._bossRotating=!1,t._bossRotateProgress=0,t._bossRotateStartAngle=0,t._timer=0,t._t=.5,t._moveDir=0,t._fireTimer=0,t._bullets=[],t._bossBullets=[],t._bossCurrentHP=100,t._hpProgressBar=null,t._hpLabel=null,t._bossAnimTimer=0,t._playerDead=!1,t._deathFrameIndex=0,t._deathAnimTimer=0,t._deathAnimFinished=!1,t._deathLastFrameTimer=0,t._gameOver=!1,t._gameOverShown=!1,t._bossDead=!1,t._bossDeathFrameIndex=0,t._bossMoveTarget=new _,t._bossRandomMove=!1,t._bossMoveThenRotatePhase=!1,t._bossSpawningCircleAfterMove=!1,t._bossDeathAnimTimer=0,t._bossDeathAnimFinished=!1,t._bossDeathLastFrameTimer=0,t}s(t,e);var r=t.prototype;return r._getPos1=function(){if(this.pos1Node&&this.pos1Node.isValid){var e=new _;this.pos1Node.getWorldPosition(e);var t=this.node.getComponent(p),s=t?t.convertToNodeSpaceAR(e):e;return new l(s.x,s.y)}return new l(this.pos1.x,this.pos1.y)},r._getPos2=function(){if(this.pos2Node&&this.pos2Node.isValid){var e=new _;this.pos2Node.getWorldPosition(e);var t=this.node.getComponent(p),s=t?t.convertToNodeSpaceAR(e):e;return new l(s.x,s.y)}return new l(this.pos2.x,this.pos2.y)},r._getPos3=function(){if(this.pos3Node&&this.pos3Node.isValid){var e=new _;this.pos3Node.getWorldPosition(e);var t=this.node.getComponent(p),s=t?t.convertToNodeSpaceAR(e):e;return new l(s.x,s.y)}return new l(this.pos3.x,this.pos3.y)},r._getSegmentLengths=function(){var e=this._getPos1(),t=this._getPos2(),s=this._getPos3(),i=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};return[i(e,t),i(t,s),i(s,e)]},r._pointOnLine=function(e){var t=this._getPos1(),s=this._getPos2(),i=this._getPos3();if(!this.useThreePoints){var o=t.x+(s.x-t.x)*e,r=t.y+(s.y-t.y)*e;return new l(o,r)}var n=this._getSegmentLengths(),a=n[0],h=n[1],u=n[2],b=a+h+u;if(b<=0)return new l(t.x,t.y);var _=(e%1+1)%1,p=function(e,t,s){return new l(e.x+(t.x-e.x)*s,e.y+(t.y-e.y)*s)};return(_*=b)<a?p(t,s,_/a):(_-=a)<h?p(s,i,_/h):p(i,t,(_-=h)/u)},r._getPathParameterTForX=function(e){var t=this._getPos1(),s=this._getPos2(),i=this._getPos3();if(!this.useThreePoints){var o=s.x-t.x;if(Math.abs(o)<1e-6)return.5;var r=(e-t.x)/o;return Math.max(0,Math.min(1,r))}var n=this._getSegmentLengths(),a=n[0],h=n[1],l=a+h+n[2];if(l<=0)return 0;for(var u=0,b=1e10,_=0,p=[[t,s,0,a],[s,i,a,a+h],[i,t,a+h,l]];_<p.length;_++){var d=p[_],m=d[0],c=d[1],f=d[2],g=d[3],y=c.x-m.x;if(!(Math.abs(y)<1e-6)){var v=(e-m.x)/y;if(!(v<0||v>1)){var w=m.y+(c.y-m.y)*v;w<b&&(b=w,u=(f+v*(g-f))/l)}}}return u%1},r._isPointInHitbox=function(e,t,s){var i=s.getComponent(p);if(!i)return!1;var o=new _;s.getWorldPosition(o);var r=this.node.getComponent(p),n=r?r.convertToNodeSpaceAR(o):o,a=i.contentSize.width,h=i.contentSize.height,l=i.anchorPoint?i.anchorPoint.x:.5,u=i.anchorPoint?i.anchorPoint.y:.5,b=n.x-a*l,d=n.x+a*(1-l),m=n.y-h*u,c=n.y+h*(1-u);return e>=b&&e<=d&&t>=m&&t<=c},r.onLoad=function(){this.bossHitboxes||(this.bossHitboxes=[]),this.hitboxTags||(this.hitboxTags=[]),this.playerDeathFrames||(this.playerDeathFrames=[]),this.bossDeathFrames||(this.bossDeathFrames=[])},r.start=function(){var e,t=this.player||this.node.getChildByName("player");if(t&&this.me1&&this.me2){this._playerNode=t,this._sprite=t.getComponent(d)||t.addComponent(d),this._sprite.spriteFrame=this.me1,this._timer=0,this._t=.5;var s=this._pointOnLine(this._t);t.setPosition(s.x,s.y,0);var i=this.node.getChildByName("Graphics");if(i){var o=i.getComponent(m)||i.addComponent(m);o.clear(),o.lineWidth=5,o.strokeColor=new c(255,255,255,255);var r=this._getPos1(),n=this._getPos2(),a=this._getPos3();o.moveTo(r.x,r.y),o.lineTo(n.x,n.y),this.useThreePoints&&(o.lineTo(a.x,a.y),o.lineTo(r.x,r.y)),o.stroke()}this._bossNode=this.boss||this.node.getChildByName("p2"),this._bossNode&&(this._bossInitialPos.set(this._bossNode.position),this._bossInitialAngle=this._bossNode.eulerAngles.z,this._bossSprite=this._bossNode.getComponent(d)||this._bossNode.getComponentInChildren(d),!this._bossSprite&&this.enemy3_n1&&(this._bossSprite=this._bossNode.addComponent(d)),this._bossSprite&&(this._bossOriginalColor=this._bossSprite.color.clone(),this.enemy3_n1&&(this._bossSprite.spriteFrame=this.enemy3_n1)));var h=this.hpProgressBar||this.node.getChildByName("HP_ProgressBar");h&&(this._hpProgressBar=h.getComponent(f)||h.getComponentInChildren(f),this._bossCurrentHP=this.bossMaxHP,this._hpProgressBar&&(this._hpProgressBar.progress=1));var l=this.hpText||this.node.getChildByName("HP_text");l&&(this._hpLabel=l.getComponent(g)||l.getComponentInChildren(g),this._updateHPText()),y.on(v.EventType.KEY_DOWN,this._onKeyDown,this),y.on(v.EventType.KEY_UP,this._onKeyUp,this),y.on(v.EventType.TOUCH_START,this._onTouchStart,this),null==(e=this.node.scene)||e.on(T,this.restart,this)}},r.onDestroy=function(){if(this.node&&this.node.isValid)try{var e;y.off(v.EventType.KEY_DOWN,this._onKeyDown,this),y.off(v.EventType.KEY_UP,this._onKeyUp,this),y.off(v.EventType.TOUCH_START,this._onTouchStart,this),null==(e=this.node.scene)||e.off(T,this.restart,this)}catch(e){}},r._onKeyDown=function(e){e.keyCode===w.KEY_A&&(this._moveDir=-1),e.keyCode===w.KEY_D&&(this._moveDir=1)},r._onKeyUp=function(e){},r._onTouchStart=function(e){var t=e.getLocation(),s=.5*P.getVisibleSizeInPixel().width;t.x<s?this._moveDir=-1:t.x>s&&(this._moveDir=1)},r._spawnBullet=function(){if(this._playerNode&&this._bossNode&&this.bulletFrame){if(this.fireAudio&&!F.soundMuted)(this.node.getComponent(x)||this.node.addComponent(x)).playOneShot(this.fireAudio,.12);var e,t,s=this._bossNode.position.x,i=this._bossNode.position.y,o=this._playerNode.eulerAngles.z,r=this.bulletPos||this.node.getChildByName("bulletPos");if(r&&r.isValid){var n=new _;r.getWorldPosition(n);var h=this.node.getComponent(p),l=h?h.convertToNodeSpaceAR(n):n;e=l.x,t=l.y}else{var u=this._playerNode.position.x,b=this._playerNode.position.y,m=o*Math.PI/180;e=u+Math.sin(m)*this.headOffset,t=b+Math.cos(m)*this.headOffset}var f=s-e,g=i-t,y=Math.sqrt(f*f+g*g)||1,v=f/y*this.bulletSpeed,w=g/y*this.bulletSpeed,P=new a("bullet");P.addComponent(p),P.setPosition(e,t,0),P.setScale(1.2,1.2,1.2),P.setRotationFromEuler(0,0,o);var B=P.addComponent(d);B.spriteFrame=this.bulletFrame,B.color=new c(255,255,255,255),this.node.addChild(P),this._bullets.push({node:P,vx:v,vy:w})}},r._damageBoss=function(){if(!this._bossDead&&(this._bossCurrentHP=Math.max(0,this._bossCurrentHP-this.bossDamagePerHit),this._hpProgressBar&&this.bossMaxHP>0&&(this._hpProgressBar.progress=this._bossCurrentHP/this.bossMaxHP),this._updateHPText(),this._bossCurrentHP<=0)){if(this.bossDeathAudio&&!F.soundMuted)(this.node.getComponent(x)||this.node.addComponent(x)).playOneShot(this.bossDeathAudio,1);this.bossDeathFrames.length>0&&this._bossSprite?(this._bossDead=!0,this._bossDeathFrameIndex=0,this._bossDeathAnimTimer=0,this._bossDeathAnimFinished=!1,this._bossDeathLastFrameTimer=0,this._bossSprite.spriteFrame=this.bossDeathFrames[0]):this._showGameOver("next")}},r._updateHPText=function(){if(this._hpLabel){var e=Math.floor(this._bossCurrentHP),t=Math.floor(this.bossMaxHP);this._hpLabel.string=e+"/"+t}},r._triggerBossHitFlash=function(){this._bossSprite&&(this._bossOriginalColor||(this._bossOriginalColor=this._bossSprite.color.clone()),this._bossSprite.color=new c(255,0,0,255),this._bossHitFlashTimer=this.bossHitFlashDuration)},r._getBossBulletSpawn=function(){if(!this._bossNode)return null;var e=this.bossBulletPos||this._bossNode.getChildByName("bulletPos");if(e&&e.isValid){var t=new _;e.getWorldPosition(t);var s=this.node.getComponent(p),i=s?s.convertToNodeSpaceAR(t):t;return{bx:i.x,by:i.y}}return{bx:this._bossNode.position.x,by:this._bossNode.position.y}},r._addBossBullet=function(e,t,s,i,o){if(this.bossBulletFrame){var r=new a("boss_bullet");r.addComponent(p),r.setPosition(e,t,0),r.setRotationFromEuler(0,0,o),r.addComponent(d).spriteFrame=this.bossBulletFrame,this.node.addChild(r),this._bossBullets.push({node:r,vx:s,vy:i})}},r._spawnBossBulletTowardPlayer=function(){var e=this._getBossBulletSpawn();if(e&&this.bossBulletFrame&&this._playerNode&&this._playerNode.isValid){var t=new _;this._playerNode.getWorldPosition(t);var s=this.node.getComponent(p),i=s?s.convertToNodeSpaceAR(t):t,o=i.x-e.bx,r=i.y-e.by,n=Math.sqrt(o*o+r*r)||1,a=o/n*this.bossBulletSpeed,h=r/n*this.bossBulletSpeed,l=180*Math.atan2(r,o)/Math.PI-90;this._addBossBullet(e.bx,e.by,a,h,l)}},r._spawnBossBulletsTowardLine=function(){var e=this._getBossBulletSpawn();if(e&&this.bossBulletFrame)for(var t=0,s=[this._pointOnLine(0),this._pointOnLine(.5),this._pointOnLine(1)];t<s.length;t++){var i=s[t],o=i.x-e.bx,r=i.y-e.by,n=Math.sqrt(o*o+r*r)||1,a=o/n*this.bossBulletSpeed,h=r/n*this.bossBulletSpeed,l=180*Math.atan2(r,o)/Math.PI-90;this._addBossBullet(e.bx,e.by,a,h,l)}},r._spawnBossBulletsRandomDirections=function(e){var t=this._getBossBulletSpawn();if(t&&this.bossBulletFrame)for(var s=0;s<e;s++){var i=360*Math.random(),o=i*Math.PI/180,r=Math.sin(o)*this.bossBulletSpeed,n=Math.cos(o)*this.bossBulletSpeed;this._addBossBullet(t.bx,t.by,r,n,i)}},r._spawnBossBulletCircleRound=function(){var e=this._getBossBulletSpawn();if(e)for(var t=0;t<360;t+=25){var s=t*Math.PI/180,i=Math.sin(s)*this.bossBulletSpeed,o=Math.cos(s)*this.bossBulletSpeed;this._addBossBullet(e.bx,e.by,i,o,t)}},r._spawnBossBullet=function(){var e=this;this._bossNode&&this.bossBulletFrame&&(this._bossCurrentHP>=50?this._spawnBossBulletTowardPlayer():(this._spawnBossBulletsTowardLine(),this.scheduleOnce((function(){return e._spawnBossBulletsTowardLine()}),t._BOSS_BULLET_ROUND_DELAY)))},r._spawnBossBulletCircleOnly=function(){},r._onPlayerHitByBossBullet=function(){if(!this._playerDead){if(this._playerDead=!0,this.deathAudio&&!F.soundMuted)(this.node.getComponent(x)||this.node.addComponent(x)).playOneShot(this.deathAudio,1);this._deathFrameIndex=0,this._deathAnimTimer=0,this._deathAnimFinished=!1,this._deathLastFrameTimer=0,this._sprite&&this.playerDeathFrames.length>0&&(this._sprite.spriteFrame=this.playerDeathFrames[0])}},r._showGameOver=function(e){var t;if(!this._gameOverShown){this._gameOverShown=!0,this._gameOver=!0,F.isGameOver=!0,F.saveToLocal();var s=this.gameOverNode||(null==(t=this.node.parent)?void 0:t.getChildByName("GameOverPanel"))||this.node.getChildByName("GameOverPanel"),i=null==s?void 0:s.getComponent(D);i&&i.show(e)}},r.restart=function(){if(this._gameOver=!1,this._gameOverShown=!1,this._playerDead=!1,this._deathFrameIndex=0,this._deathAnimTimer=0,this._t=.5,this._moveDir=0,this._bossCurrentHP=this.bossMaxHP,this._bossRotateTimer=0,this._bossRotating=!1,this._bossRotateProgress=0,this._bossDead=!1,this._bossDeathFrameIndex=0,this._bossDeathAnimTimer=0,this._bossDeathAnimFinished=!1,this._bossDeathLastFrameTimer=0,this._fireTimer=0,this._timer=0,this._bossAnimTimer=0,this._bossHitFlashTimer=0,this._bullets.forEach((function(e){return e.node.isValid&&e.node.destroy()})),this._bullets.length=0,this._bossBullets.forEach((function(e){return e.node.isValid&&e.node.destroy()})),this._bossBullets.length=0,this._bossNode&&(this._bossNode.active=!0,this._bossNode.setPosition(this._bossInitialPos),this._bossNode.setRotationFromEuler(0,0,this._bossInitialAngle)),this._playerNode){this._playerNode.active=!0;var e=this._pointOnLine(this._t);this._playerNode.setPosition(e.x,e.y,0),this._sprite&&this.me1&&(this._sprite.spriteFrame=this.me1)}this._deathAnimFinished=!1,this._deathLastFrameTimer=0,this._bossRandomMove=!1,this._bossMoveThenRotatePhase=!1,this._bossSpawningCircleAfterMove=!1,this._bossSprite&&this._bossOriginalColor&&(this._bossSprite.color=this._bossOriginalColor.clone()),this._bossSprite&&this.enemy3_n1&&(this._bossSprite.spriteFrame=this.enemy3_n1),this._hpProgressBar&&this.bossMaxHP>0&&(this._hpProgressBar.progress=1),this._updateHPText()},r._faceBoss=function(){if(this._playerNode&&this._bossNode){var e=this._playerNode.position.x,t=this._playerNode.position.y,s=this._bossNode.position.x,i=this._bossNode.position.y,o=180*Math.atan2(i-t,s-e)/Math.PI-90;this._playerNode.setRotationFromEuler(0,0,o)}},r.update=function(e){var t=this;if(!F.isPaused&&(this._bossDead&&(this._bossSprite&&this.bossDeathFrames.length>0?(this._bossDeathFrameIndex<this.bossDeathFrames.length-1?(this._bossDeathAnimTimer+=e,this._bossDeathAnimTimer>=this.deathFrameInterval&&(this._bossDeathAnimTimer=0,this._bossDeathFrameIndex++,this._bossSprite.spriteFrame=this.bossDeathFrames[this._bossDeathFrameIndex])):(this._bossDeathLastFrameTimer+=e,this._bossDeathLastFrameTimer>=this.deathFrameInterval&&(this._bossDeathAnimFinished=!0)),this._bossDeathAnimFinished&&!this._gameOverShown&&(this._bossNode&&(this._bossNode.active=!1),this._showGameOver("next"))):this._gameOverShown||(this._bossNode&&(this._bossNode.active=!1),this._showGameOver("next"))),this._sprite&&this.me1&&this.me2)){if(this._playerNode&&!this._playerDead){this._t+=this._moveDir*this.moveSpeed*e,this.useThreePoints?(this._t=this._t%1,this._t<0&&(this._t+=1)):this._t=Math.max(0,Math.min(1,this._t));var s=this._pointOnLine(this._t);this._playerNode.setPosition(s.x,s.y,0),this._faceBoss()}if(this._bossNode&&!this._bossDead)if(this._bossRotating){this._bossRotateProgress+=e/this.bossRotateDuration;var i=Math.min(1,this._bossRotateProgress);this._bossNode.setRotationFromEuler(0,0,this._bossRotateStartAngle+360*i),this._bossRotateProgress>=1&&(this._bossRotating=!1,this._bossSpawningCircleAfterMove?(this._bossSpawningCircleAfterMove=!1,this._spawnBossBulletCircleOnly()):this._spawnBossBullet())}else this._bossMoveThenRotatePhase||(this._bossRotateTimer+=e,this._bossRotateTimer>=this.bossRotateInterval&&(this._bossRotating=!0,this._bossRotateProgress=0,this._bossRotateStartAngle=this._bossNode.eulerAngles.z,this._bossRotateTimer=0));if(this._bossRandomMove&&this._bossNode&&!this._bossDead){var o=this._bossNode.position,r=this._bossMoveTarget.x,n=this._bossMoveTarget.y,a=r-o.x,h=n-o.y,l=Math.sqrt(a*a+h*h);if(l<8)this._bossMoveThenRotatePhase?(this._bossRandomMove=!1,this._bossMoveThenRotatePhase=!1,this._bossSpawningCircleAfterMove=!0,this._bossRotating=!0,this._bossRotateProgress=0,this._bossRotateStartAngle=this._bossNode.eulerAngles.z):(this._bossMoveTarget.x=this.randomRectMinX+Math.random()*(this.randomRectMaxX-this.randomRectMinX),this._bossMoveTarget.y=this.randomRectMinY+Math.random()*(this.randomRectMaxY-this.randomRectMinY));else{var u=Math.min(this.bossMoveSpeed*e,l);this._bossNode.setPosition(o.x+a/l*u,o.y+h/l*u,o.z)}}var b=[],_=this._playerNode;this._bossBullets.forEach((function(s,i){var o=s.node;if(o.isValid){o.setPosition(o.position.x+s.vx*e,o.position.y+s.vy*e,0);var r=!1;if(_&&_.isValid&&!t._playerDead&&!t._bossDead){var n=o.position.x-_.position.x,a=o.position.y-_.position.y;n*n+a*a<t.playerHitRadius*t.playerHitRadius&&(r=!0,t._onPlayerHitByBossBullet())}!r&&(Math.abs(o.position.x)>400||Math.abs(o.position.y)>700)&&(r=!0),r&&(b.push(i),o.destroy())}else b.push(i)}));for(var p=b.length-1;p>=0;p--)this._bossBullets.splice(b[p],1);if(!this._playerDead&&!this._bossDead&&this.bulletFrame&&this._playerNode&&this._bossNode)for(this._fireTimer+=e;this._fireTimer>=this.fireInterval;)this._fireTimer-=this.fireInterval,this._spawnBullet();var d=this._bossNode,m=[],c=this.bossHitboxes,f=this.hitboxTags;this._bullets.forEach((function(s,i){var o=s.node;if(o.setPosition(o.position.x+s.vx*e,o.position.y+s.vy*e,0),d&&c.length>0)for(var r=0;r<c.length;r++){var n=c[r];if(n&&n.isValid&&t._isPointInHitbox(o.position.x,o.position.y,n)){if(m.push(i),o.destroy(),1===f[r]&&!t._bossDead&&!t._playerDead)if(t._triggerBossHitFlash(),t._damageBoss(),t.hitBossAudio&&!F.soundMuted)(t.node.getComponent(x)||t.node.addComponent(x)).playOneShot(t.hitBossAudio,1);break}}else if(d&&!t._bossDead&&!t._playerDead){var a=o.position.x-d.position.x,h=o.position.y-d.position.y;a*a+h*h<t.hitRadius*t.hitRadius&&(m.push(i),o.destroy(),t._triggerBossHitFlash())}(Math.abs(o.position.x)>400||Math.abs(o.position.y)>700)&&(m.push(i),o.destroy())}));for(var g=m.length-1;g>=0;g--)this._bullets.splice(m[g],1);this._bossHitFlashTimer>0&&(this._bossHitFlashTimer-=e,this._bossHitFlashTimer<=0&&this._bossSprite&&this._bossOriginalColor&&(this._bossSprite.color=this._bossOriginalColor.clone(),this._bossHitFlashTimer=0)),!this._bossDead&&this._bossSprite&&this.enemy3_n1&&this.enemy3_n2&&(this._bossAnimTimer+=e,this._bossAnimTimer>=this.bossFrameInterval&&(this._bossAnimTimer=0,this._bossSprite.spriteFrame=this._bossSprite.spriteFrame===this.enemy3_n1?this.enemy3_n2:this.enemy3_n1)),this._playerDead?(this._sprite&&this.playerDeathFrames.length>0?this._deathFrameIndex<this.playerDeathFrames.length-1?(this._deathAnimTimer+=e,this._deathAnimTimer>=this.deathFrameInterval&&(this._deathAnimTimer=0,this._deathFrameIndex++,this._sprite.spriteFrame=this.playerDeathFrames[this._deathFrameIndex])):(this._deathLastFrameTimer+=e,this._deathLastFrameTimer>=this.deathFrameInterval&&(this._deathAnimFinished=!0)):this._deathAnimFinished=!0,this._deathAnimFinished&&!this._gameOverShown&&(this._playerNode&&(this._playerNode.active=!1),this._showGameOver("restart"))):(this._timer+=e,this._timer>=this.frameInterval&&(this._timer=0,this._sprite.spriteFrame=this._sprite.spriteFrame===this.me1?this.me2:this.me1))}},t}(B))._BOSS_BULLET_ROUND_DELAY=.4,oe=t((ie=Ze).prototype,"player",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(ie.prototype,"boss",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(ie.prototype,"enemy3_n1",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(ie.prototype,"enemy3_n2",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ie.prototype,"bossFrameInterval",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),le=t(ie.prototype,"me1",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(ie.prototype,"me2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ie.prototype,"frameInterval",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),_e=t(ie.prototype,"pos1Node",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ie.prototype,"pos2Node",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ie.prototype,"pos3Node",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ie.prototype,"pos1",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(-320,-396)}}),ce=t(ie.prototype,"pos2",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(320,-396)}}),fe=t(ie.prototype,"pos3",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(0,-200)}}),ge=t(ie.prototype,"useThreePoints",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ye=t(ie.prototype,"moveSpeed",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),ve=t(ie.prototype,"bulletFrame",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ie.prototype,"fireInterval",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.12}}),Pe=t(ie.prototype,"fireAudio",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ie.prototype,"hitBossAudio",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ie.prototype,"deathAudio",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(ie.prototype,"bossDeathAudio",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(ie.prototype,"bulletSpeed",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 800}}),De=t(ie.prototype,"bulletPos",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(ie.prototype,"headOffset",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 55}}),Se=t(ie.prototype,"hitRadius",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),Me=t(ie.prototype,"bossHitboxes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ce=t(ie.prototype,"hitboxTags",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[1,2,3,4,5,6,7,8]}}),Re=t(ie.prototype,"bossHitFlashDuration",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.12}}),Ae=t(ie.prototype,"bossRotateInterval",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),ze=t(ie.prototype,"bossRotateDuration",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),Oe=t(ie.prototype,"randomRectMinX",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-200}}),He=t(ie.prototype,"randomRectMinY",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-200}}),Ie=t(ie.prototype,"randomRectMaxX",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),Le=t(ie.prototype,"randomRectMaxY",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),Ee=t(ie.prototype,"bossMoveSpeed",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Ve=t(ie.prototype,"bossBulletFrame",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=t(ie.prototype,"bossBulletSpeed",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 400}}),Ke=t(ie.prototype,"bossBulletPos",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(ie.prototype,"playerHitRadius",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Ue=t(ie.prototype,"hpProgressBar",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(ie.prototype,"bossMaxHP",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Xe=t(ie.prototype,"bossDamagePerHit",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ke=t(ie.prototype,"hpText",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=t(ie.prototype,"playerDeathFrames",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=t(ie.prototype,"deathFrameInterval",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),Je=t(ie.prototype,"bossDeathFrames",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qe=t(ie.prototype,"gameOverNode",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=ie))||se));r._RF.pop()}}}));

System.register("chunks:///_virtual/level2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./level1.ts"],(function(s){var t,e,n,o;return{setters:[function(s){t=s.inheritsLoose},function(s){e=s.cclegacy,n=s._decorator},function(s){o=s.level1}],execute:function(){var i;e._RF.push({},"c4db4keqwVL0pt+CYv6OASL","level2",void 0);var r=n.ccclass;s("level2",r("level2")(i=function(s){function e(){return s.apply(this,arguments)||this}t(e,s);var n=e.prototype;return n._spawnBossBullet=function(){var s=this;if(this._bossNode&&this.bossBulletFrame){var t=this._bossCurrentHP;t>900?this._spawnBossBulletsTowardLine():t>800?(this._spawnBossBulletsTowardLine(),this.scheduleOnce((function(){return s._spawnBossBulletsTowardLine()}),o._BOSS_BULLET_ROUND_DELAY)):(t>700||t<=700)&&(this._bossMoveThenRotatePhase=!0,this._bossRandomMove=!0,this._bossMoveTarget.x=this.randomRectMinX+Math.random()*(this.randomRectMaxX-this.randomRectMinX),this._bossMoveTarget.y=this.randomRectMinY+Math.random()*(this.randomRectMaxY-this.randomRectMinY))}},n._spawnBossBulletCircleOnly=function(){var s=this;this._bossNode&&this.bossBulletFrame&&(this._bossCurrentHP>700?this._spawnBossBulletCircleRound():(this._spawnBossBulletCircleRound(),this.scheduleOnce((function(){return s._spawnBossBulletCircleRound()}),o._BOSS_BULLET_ROUND_DELAY)))},e}(o))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/level3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./level1.ts"],(function(s){var t,e,o,i;return{setters:[function(s){t=s.inheritsLoose},function(s){e=s.cclegacy,o=s._decorator},function(s){i=s.level1}],execute:function(){var l;e._RF.push({},"45847w+iFtDCJlsdxWoci83","level3",void 0);var n=o.ccclass;s("level3",n("level3")(l=function(s){function e(){return s.apply(this,arguments)||this}t(e,s);var o=e.prototype;return o.start=function(){s.prototype.start.call(this),this._bossNode&&this._playerNode&&this._bossNode.isValid&&this._playerNode.isValid&&this._placePlayerBelowBoss()},o.restart=function(){s.prototype.restart.call(this),this._bossNode&&this._playerNode&&this._bossNode.isValid&&this._playerNode.isValid&&this._placePlayerBelowBoss()},o._placePlayerBelowBoss=function(){this._t=this._getPathParameterTForX(this._bossNode.position.x);var s=this._pointOnLine(this._t);this._playerNode.setPosition(s.x,s.y,0)},o._spawnBossBullet=function(){var s=this;if(this._bossNode&&this.bossBulletFrame){var t=this._bossCurrentHP;t>900?this._spawnBossBulletsRandomDirections(5):t>800?(this._spawnBossBulletsRandomDirections(5),this.scheduleOnce((function(){return s._spawnBossBulletsRandomDirections(5)}),i._BOSS_BULLET_ROUND_DELAY)):t>700?this._spawnBossBulletCircleRound():(this._spawnBossBulletCircleRound(),this.scheduleOnce((function(){return s._spawnBossBulletCircleRound()}),i._BOSS_BULLET_ROUND_DELAY))}},o._spawnBossBulletCircleOnly=function(){},e}(i))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./GameFlow.ts","./gameManager.ts","./gameOver.ts","./gameSetting.ts","./gameStartUI.ts","./level1.ts","./level2.ts","./level3.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});